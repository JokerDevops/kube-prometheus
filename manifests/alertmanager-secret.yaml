apiVersion: v1
kind: Secret
metadata:
  labels:
    app.kubernetes.io/component: alert-router
    app.kubernetes.io/instance: main
    app.kubernetes.io/name: alertmanager
    app.kubernetes.io/part-of: kube-prometheus
    app.kubernetes.io/version: 0.24.0
  name: alertmanager-main
  namespace: monitoring
stringData:
  alertmanager.yaml: |-
    "global":
        resolve_timeout: 2m
        smtp_from: "Orchsym Alert <orchsym-no-reply@baishan.com>"
        smtp_smarthost: "smtp.partner.outlook.cn:587"
        smtp_hello: "baishan.com"
        smtp_auth_username: "orchsym-no-reply@baishan.com"
        smtp_auth_password: "b6$&qS7P6YYx"
        smtp_auth_identity:
        smtp_auth_secret:
        smtp_require_tls: true
    receivers:
      - name: 'mail'
        email_configs:
        - to: 'jinxiao.zhang@baishan.com'
          send_resolved: true
          headers: { Subject: "{{ .Status | toUpper }} Prometheus [v1235] 报警邮件" }

    "route":
      "group_by":
      - "alertname"
      "group_interval": "5m"
      "group_wait": "30s"
      "receiver": "mail"
      "repeat_interval": "12h"

type: Opaque
